var title       =   '.modal-title',
    loader      =   '.ajax-loader',
    content     =   '.modal-body-content',
    dataRemote  =   'a[data-remote=true]',
    toolbar     =   'div.modal-footer',
    closeButton =   'button.modal-close',
    crossButton =   'button.close';
    modal       =   '#ajax-modal';

//i set the title through a helper function
$(title).html(
  "预约课程 <small>(<%= @teacher.full_name %> <%= @teacher.rate %>)</small>"
);
// set the button text
// TODO: update the page via ajax call
$(closeButton).html('关闭').click(function() {
  location.reload();
});

// TODO: update the page via ajax call
$(crossButton).click(function() {
  location.reload();
});

//hides the modal and shows the ajax content
$(loader).fadeToggle('fast', function() {
  $(loader).fadeOut('slow');
  $(content).html('<%= j render("form") %>');
  $(modal).modal();
});
//brings the loader back up + gets rid of the content when linking to another controller method etc
// $(content).on('click', dataRemote, function(){
//   $(content).fadeOut('slow', function() {
//     $(content).empty();
//     $(loader).fadeIn('slow');
//   });
// });
